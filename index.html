<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width">
  <title>ðŸª¿ Law App</title>
  <meta name="color-scheme" content="dark light">
  <style>
    :root {
      color-scheme: dark light;
    }
  </style>
  <meta name="description" content="An app to help read laws">
  <link rel="canonical" href="https://esbranson.github.io/">
  <link rel="icon" href="favicon.ico">
  <link rel="apple-touch-icon" href="icon-512x512.png">
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#ff9900">
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": ["SoftwareApplication","WebApplication"],
      "name": "ðŸª¿ Law App",
      "operatingSystem": "*",
      "applicationCategory": "https://www.wikidata.org/wiki/Special:EntityData/Q7748",
      "license" : "https://creativecommons.org/publicdomain/zero/1.0/",
      "isAccessibleForFree" : true,
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "0",
        "ratingCount": "1"
      },
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      }
    }
  </script>
  <style>
    @media screen and (orientation: portrait) {
      .controls {
        display: grid;
        grid-template-areas: "urlLabel"
          "url"
          "filterLabel"
          "filter"
          "button";
      }
    }

    @media screen and (not (orientation: portrait)) {
      .controls {
        display: grid;
        grid-template-areas: "urlLabel url filterLabel filter button";
        justify-content: center;
        column-gap: 1em;
      }

      #url {
        width: 30em;
      }

      #filter {
        width: 45em;
      }
    }

    @media print {
      .controls {
        display: none;
      }
    }

    label[for="url"] {
      grid-area: urlLabel;
    }

    #url {
      grid-area: url;
    }

    label[for="filter"] {
      grid-area: filterLabel;
    }

    #filter {
      grid-area: filter;
    }

    input[type="button"] {
      grid-area: button;
    }
  </style>
  <script>
    async function doEat() {
      const url = document.getElementById("url").value;
      console.log("User information:", { url });

      const filter = document.getElementById("filter").value;
      console.log("User information:", { filter });

      const app = document.getElementById("app");
      app.filter = filter;
      app.href = url;
    }
  </script>
</head>

<body>
  <div class="controls">
    <label for="url">Akoma Ntoso URL:</label>
    <input id="url" name="url" type="url" list="defaultURLs" required />
    <label for="filter">XPath filter (to hide) (optional):</label>
    <input id="filter" name="filter" type="text" list="defaultFilters">
    <input type="button" onclick="doEat()" value="Open">
    <datalist id="defaultURLs">
      <option value="https://esbranson.github.io/samples/COMPS-16776.xml"></option>
      <option value="https://esbranson.github.io/samples/COMPS-16472.xml"></option>
      <option value="https://esbranson.github.io/samples/PLAW-117publ169.xml"></option>
      <option value="https://esbranson.github.io/samples/PLAW-117publ167.xml"></option>
      <option value="https://esbranson.github.io/samples/PLAW-117publ58.xml"></option>
      <option value="https://esbranson.github.io/samples/PLAW-117publ2.xml"></option>
      <option value="https://www.legislation.gov.uk/ukpga/2022/37/data.akn"></option>
      <option value="https://www.legislation.gov.uk/ukpga/1982/11/data.akn"></option>
    </datalist>
    <datalist id="defaultFilters">
      <option value=""></option>
      <option value="//an:content|//an:num|//an:intro"></option>
      <option value="//uslm:content[not(contains(@class,'block'))]|//uslm:num|//uslm:chapeau|//uslm:foreign"></option>
    </datalist>
  </div>
  <law-app id="app"></law-app>
  <script type='module' src='lawapp.js'></script>
</body>

</html>
